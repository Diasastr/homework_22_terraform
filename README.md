Огляд Конфігурації Terraform
============================

Цей README надає огляд кроків та передумов для налаштування та використання конфігурації Terraform для багатокомпонентної інфраструктури AWS. Ця інфраструктура включає мережеві ресурси, конфігурації безпеки, інстанси серверів та налаштування моніторингу, усе управляється через Terraform.

Передумови
----------

Перш ніж почати роботу з Terraform, переконайтеся, що у вас налаштовані наступні передумови:

1.  Обліковий запис AWS: Створіть або використовуйте існуючий обліковий запис AWS для розгортання та управління ресурсами.

2.  AWS CLI: Встановіть та налаштуйте AWS CLI на вашому комп'ютері. Автентифікуйтеся, використовуючи ваші облікові дані AWS.

3.  Terraform: Встановіть останню версію Terraform.

4.  IAM користувача або роль: Створіть IAM користувача з необхідними дозволами для управління ресурсами, які використовуються в конфігурації. Рекомендується надати дозволи, що мінімально необхідні, за принципом найменших привілеїв. В моєму випадку це були FullAccess EC2, VPC, S3  і 1 permission для IAM SSH.

5.  SSH ключі: Згенеруйте пару SSH ключів для забезпечення безпечного доступу до EC2 інстансів. Цей ключ можна включили в конфігурацію Terraform, Security Module. Шлях до файлу вказується в файлі для змінних (variables.tf) в руті.

6.  S3 Бакет для Terraform State: Створіть S3 бакет у AWS для зберігання файлу стану Terraform. Включіть версіонування для цього бакета.

7.  DynamoDB таблиця для блокування стану (необов'язково, але рекомендовано): Створіть таблицю DynamoDB для блокування стану Terraform, щоб уникнути одночасних змін. P.S. Я в кінцеву конфігурацію не включала :)

Конфігурація Terraform
----------------------

### Структура проекту

Проект містить наступні модулі:

-   Мережа (Networking): Налаштування VPC, підмереж, інтернет-шлюзів тощо.
-   Безпека (Security): Групи безпеки та ключі доступу.
-   Сервери (Servers): EC2 інстанси для додатків та Jenkins.
-   Моніторинг (Monitoring): Налаштування сервера моніторингу.

### Ініціалізація та Застосування

1.  Ініціалізуйте Terraform у кореневій директорії проекту за допомогою команди `terraform init`. Це підготує ваш проект до роботи.

2.  Перевірте план розгортання за допомогою `terraform plan` і переконайтеся, що все відповідає очікуванням.

3.  Застосуйте конфігурацію за допомогою `terraform apply`. Підтвердіть дії, щоб розпочати процес розгортання ресурсів.

Вихідні дані
------------

Використовуйте файл `outputs.tf` на кореневому рівні для визначення та отримання важливої інформації про інфраструктуру після застосування конфігурації.


Перегляньте [оригінальний README](https://github.com/Diasastr/homework_21_ias) для додаткової інформації. Також вся конфігурація задокументована і показує що до чого краще ніж цей readme!)

### P.S
Для передачі available zones я використала конструкцію з available data в variables.tf файлі в руті як показано тут:

```yaml
/* Список зон доступності у регіоні. */
data "aws_availability_zones" "available" {
  state = "available"
}

locals {
  availability_zones = data.aws_availability_zones.available.names
  // Значення за замовчуванням відсутнє, оскільки воно буде динамічно визначено
}
```

Додатково в main файлі в руті при визначені variables для networking module було вказано:

```yaml
/* Модуль мережі */
// Цей модуль налаштовує всю мережеву інфраструктуру, включаючи VPC, публічні та приватні підмережі.
module "networking" {
  source               = "./modules/networking"
  vpc_cidr             = var.vpc_cidr // CIDR блок для VPC.
  public_subnets_cidr  = var.public_subnets_cidr // Список CIDR блоків для публічних підмереж.
  private_subnets_cidr = var.private_subnets_cidr // Список CIDR блоків для приватних підмереж.
  environment          = var.environment // Назва середовища розгортання.
  availability_zones   = local.availability_zones // Список зон доступності, визначений локально.
}
```

